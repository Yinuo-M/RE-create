(this.webpackJsonprecreate=this.webpackJsonprecreate||[]).push([[0],{18:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(19),s=a.n(r),i=(a(25),a(3)),l=(a(18),a(26),a(9)),o=a(0);var j=function(e){return Object(o.jsx)("header",{className:"header",children:Object(o.jsxs)("nav",{className:"nav ".concat(e.light&&"nav--light"),children:[Object(o.jsx)("p",{className:"nav__logo",children:Object(o.jsxs)(l.b,{className:"nav__logo-link",to:"/",children:["RE:",Object(o.jsx)("span",{className:"nav__logo--colored",children:"create"})]})}),Object(o.jsxs)("ul",{className:"nav__menu",children:[Object(o.jsx)("li",{className:"nav__list-item",children:Object(o.jsx)(l.c,{exact:!0,className:"nav__link",activeClassName:"nav__link--active",to:"/",children:"art of the day"})}),Object(o.jsx)("li",{className:"nav__list-item",children:Object(o.jsx)(l.c,{exact:!0,className:"nav__link",activeClassName:"nav__link--active",to:"/my-favourites",children:"my favourites"})})]})]})})};a(36);var m=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsxs)("div",{className:"footer__wrapper",children:[Object(o.jsxs)("p",{className:"footer__credit",children:["Data provided by"," ",Object(o.jsx)("a",{href:"https://metmuseum.github.io/",className:"footer__link",target:"_blank",rel:"noreferrer",children:"the Metropolitan Museum of Art Collection API"})]}),Object(o.jsxs)("p",{className:"footer__credit",children:["Designed and developed by"," ",Object(o.jsx)("a",{href:"https://github.com/Yinuo-M",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Yinuo Meng"})]})]})})},u=a(8),d=a.n(u),b=a(10),h=(a(38),a(39),a(20)),f=a.n(h);var x=function(e){return Object(o.jsx)("div",{className:"loader ".concat(e.className),children:Object(o.jsx)(f.a,{color:"#9c5d5d",size:70})})};a(45);var O=function(e){return e.href?Object(o.jsx)("a",{target:"_blank",rel:"noreferrer",className:"standard-button ".concat(e.className),href:e.href,children:Object(o.jsx)("span",{className:"standard-button__text",children:e.text})}):Object(o.jsxs)("button",{className:"standard-button ".concat(e.className),onClick:e.handleClick,children:[Object(o.jsx)("span",{className:"standard-button__text",children:e.text}),e.imgUrl&&Object(o.jsx)("img",{className:"standard-button__img",src:e.imgUrl,alt:e.alt})]})};a(46);function _(e){var t,a,n=e.art.objectID,r=Object(c.useState)(!!localStorage.getItem(n)),s=Object(i.a)(r,2),l=s[0],j=s[1];return t=l?e.textRemove:e.textAdd,a=l?e.imgFill:e.imgEmpty,Object(o.jsx)(O,{className:"fav-button ".concat(e.className," fav-button--").concat(l),added:l,text:t,handleClick:function(){if(l)return localStorage.removeItem(n),t=e.textAdd,a=e.imgFill,void j(!1);var c=e.art.title.replace(/<\/?i>/g,""),r={id:n,image:e.art.primaryImageSmall,date:Date.now(),alt:c};localStorage.setItem(n,JSON.stringify(r)),t=e.textRemove,a=e.imgEmpty,j(!0)},imgUrl:a})}a(47);var p=function(e){var t,a=e.art,n=a.title.replace(/<\/?i>/g,""),r=a.medium.split("; ");return t=a.country&&a.objectDate?a.country+", "+a.objectDate:a.country+a.objectDate,Object(c.useEffect)((function(){"home"===e.parent&&document.querySelector(".home-main .art-info").scrollIntoView({behavior:"smooth"})})),Object(o.jsxs)("article",{className:"art-info art-info--".concat(e.className),children:[Object(o.jsxs)("div",{className:"art-info__image-wrapper",children:[Object(o.jsx)("img",{className:"art-info__image",src:a.primaryImage,alt:n,width:"670",height:"700"}),Object(o.jsx)(_,{art:a,className:"art-info__bookmark",textAdd:"add to my favourites",textRemove:"remove from my favourites"})]}),Object(o.jsxs)("div",{className:"art-info__text-wrapper",children:[Object(o.jsxs)("div",{className:"art-info__block art-info__block--header",children:[Object(o.jsx)("h2",{className:"art-info__name",children:n}),Object(o.jsx)("p",{className:"art-info__text",children:t})]}),Object(o.jsxs)("div",{className:"art-info__block",children:[Object(o.jsx)("h3",{className:"art-info__title",children:a.artistRole||"Artist"}),Object(o.jsx)("p",{className:"art-info__text art-info__text--italic",children:a.artistDisplayName||"unknown"}),Object(o.jsx)("p",{className:"art-info__text",children:a.artistDisplayBio}),a.artistWikidata_URL&&Object(o.jsx)(O,{className:"art-info__button",text:"artist's wiki",href:a.artistWikidata_URL})]}),Object(o.jsxs)("div",{className:"art-info__block",children:[Object(o.jsx)("h3",{className:"art-info__title",children:"Details"}),r.map((function(e){return Object(o.jsx)("p",{className:"art-info__text",children:e},e)})),Object(o.jsx)(O,{text:"more about this piece",href:a.objectURL,className:"art-info__button"})]})]})]})};a(48);var v=function(e){return Object(o.jsxs)("article",{className:"reload",children:[Object(o.jsxs)("h2",{className:"reload__title",children:[Object(o.jsx)("span",{className:"reload__title1",children:"Looking for more"})," ",Object(o.jsx)("span",{className:"reload__title2",children:"inspiration?"})]}),Object(o.jsx)(O,{className:"reload__button",text:"discover a new piece",handleClick:e.handleClick})]})},g=a.p+"static/media/arrow-left.3b2cc6d8.svg",N=a.p+"static/media/arrow-right.bd07b362.svg",k=a.p+"static/media/bookmark-light.92b9f975.svg",y=a.p+"static/media/bookmark-fill-light.d7748b87.svg";a(49);function w(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!0),l=Object(i.a)(s,2),j=l[0],m=l[1],u=Object(c.useRef)(null),h=Object(c.useRef)(0);function f(e){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(d.a.mark((function t(a){var c,s,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(!0),c=h.current,h.current++;case 3:if("prev"===a?u.current--:u.current++,u.current<0?u.current=n.ids.length-1:u.current>=n.ids.length&&(u.current=0),(s=n.ids[u.current])===e.art.objectID){t.next=9;break}return t.abrupt("break",11);case 9:t.next=3;break;case 11:return t.next=13,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(s));case 13:return i=t.sent,t.next=16,i.json();case 16:l=t.sent,h.current-1===c&&(r({object:l,index:u.current,ids:n.ids}),m(!1));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var t=new AbortController,a=t.signal,c=new AbortController,n=c.signal,s=!1;function i(){return(i=Object(b.a)(d.a.mark((function t(){var c,i,l,o,j,b,h,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?artistOrCulture=true&hasImages=true&q=".concat(e.art.culture),a);case 2:return c=t.sent,t.next=5,c.json();case 5:if(i=t.sent,0!==(l=i.total)){t.next=10;break}return e.removeRecommendation(),t.abrupt("return");case 10:return o=Math.floor(Math.random()*l),j=i.objectIDs,b=j[o],t.next=15,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(b),n);case 15:return h=t.sent,t.next=18,h.json();case 18:f=t.sent,s||(u.current=o,r({object:f,index:o,ids:j}),m(!1));case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){i.apply(this,arguments)}(),function(){t.abort(),c.abort(),s=!0}}),[e]),Object(o.jsxs)("div",{className:"recommendation__card",children:[Object(o.jsx)(O,{className:"recommendation__arrow recommendation__arrow--prev",handleClick:f.bind(this,"prev"),imgUrl:g,alt:"previous"}),Object(o.jsx)(O,{className:"recommendation__arrow recommendation__arrow--next",handleClick:f.bind(this,"next"),imgUrl:N,alt:"next"}),Object(o.jsx)("div",{className:"recommendation__block",children:j?Object(o.jsx)(x,{className:"recom-loader"}):Object(o.jsxs)("div",{className:"recommendation__info",children:[Object(o.jsx)("div",{className:"recommendation__img-wrapper",children:Object(o.jsx)("img",{className:"recommendation__img",src:n.object.primaryImageSmall,alt:n.object.title})}),Object(o.jsxs)("div",{className:"recommendation__name-wrapper",children:[Object(o.jsx)(_,{art:n.object,className:"recommendation__bookmark",imgEmpty:k,imgFill:y}),Object(o.jsx)("p",{className:"recommendation__name",children:n.object.title.replace(/<\/?i>/g,"")})]}),n.object.artistDisplayName&&(n.object.artistWikidata_URL?Object(o.jsx)(O,{href:n.object.artistWikidata_URL,className:"recommendation__artist",text:n.object.artistDisplayName}):Object(o.jsx)("p",{className:"recommendation__artist recommendation__artist--no-link",children:n.object.artistDisplayName}))]})})]})}a(50);var C=function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1],s=e.art.culture.replace(/, (probably|possibly).*/gi,"");return Object(o.jsx)("div",{children:n&&Object(o.jsx)("article",{className:"recommendation",children:Object(o.jsxs)("div",{className:"recommendation__wrapper",children:[Object(o.jsxs)("h2",{className:"recommendation__title",children:["More from the ",Object(o.jsx)("span",{className:"recommendation__culture",children:s})," collection"]}),Object(o.jsx)(w,{art:e.art,removeRecommendation:function(){r(!1)}})]})})})};var S=function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)(p,{art:e.art,className:"home",parent:"home"}),Object(o.jsx)(v,{handleClick:e.handleFetchClick}),Object(o.jsx)(C,{art:e.art})]})};a(51);var I=function(){return Object(o.jsx)("div",{className:"title",children:Object(o.jsxs)("h1",{className:"title__main",children:[Object(o.jsx)("span",{className:"title__1",children:"Art "}),Object(o.jsx)("span",{className:"title__2",children:"of the "}),Object(o.jsx)("span",{className:"title__3",children:"Day"})]})})};function D(){return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"][Math.floor(26*Math.random())]}var R=function(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),l=Object(i.a)(s,2),j=l[0],m=l[1];return Object(c.useEffect)((function(){e.removeBgImg(),r(null);var t=!1,a=new AbortController,c=a.signal,n=new AbortController,s=n.signal;function i(){return(i=Object(b.a)(d.a.mark((function e(){var a,n,i,l,o,j,m,u,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=D(),e.next=3,fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?isHighlight=true&hasImages=true&q=".concat(a),c);case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,l=i.total,o=i.objectIDs;case 9:return m=Math.floor(Math.random()*l),u=o[m],e.next=14,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(u),s);case 14:return b=e.sent,e.next=17,b.json();case 17:if(!(j=e.sent).culture||j.culture.includes(";")){e.next=20;break}return e.abrupt("break",22);case 20:e.next=9;break;case 22:t||r(j);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){i.apply(this,arguments)}(),function(){t=!0,a.abort(),n.abort()}}),[j,e]),Object(o.jsxs)("main",{className:"home-main",children:[Object(o.jsx)(I,{}),n?Object(o.jsx)(S,{art:n,handleFetchClick:function(){m((function(e){return e+1})),window.scrollTo(0,0)}}):Object(o.jsx)(x,{className:"home-loader"})]})};function A(){return Object(o.jsx)("h1",{children:"FAVOURITES"})}function E(e){var t=Object(o.jsx)("img",{src:e.info.image,className:"fav-list__image",alt:e.info.alt});return Object(o.jsx)("li",{className:"fav-list__item",children:Object(o.jsx)(O,{className:"fav-list__button",text:t,handleClick:e.handleClick.bind(this,e.info.id)})})}function M(e){var t=e.favList;"latest"===e.filterCriteria?t.sort((function(e,t){return t.date-e.date})):"earliest"===e.filterCriteria?t.sort((function(e,t){return e.date-t.date})):t.sort((function(){return Math.random()>.5?1:-1}));var a=t.map((function(t){return Object(o.jsx)(E,{info:t,handleClick:e.handleClick},t.id)}));return Object(o.jsx)("ul",{className:"fav-list",children:a})}function F(e){return Object(o.jsxs)("form",{className:"filter",children:[Object(o.jsx)("label",{className:"filter__label",htmlFor:"sort",children:"sort by"}),Object(o.jsxs)("select",{className:"filter__sort",id:"sort",value:e.filterCriteria,onChange:e.handleChange,children:[Object(o.jsx)("option",{value:"latest",children:"latest added"}),Object(o.jsx)("option",{value:"earliest",children:"earliest added"}),Object(o.jsx)("option",{value:"random",children:"random"})]})]})}function L(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){var t=new AbortController,a=t.signal,c=!1;function n(){return(n=Object(b.a)(d.a.mark((function t(){var n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(e.id),a);case 2:return n=t.sent,t.next=5,n.json();case 5:s=t.sent,c||r(s);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){t.abort(),c=!0}}),[e.id]),Object(o.jsxs)("article",{className:"modal",children:[n?Object(o.jsx)(p,{className:"fav",art:n}):Object(o.jsx)(x,{}),Object(o.jsx)(O,{className:"exit",handleClick:e.handleClick})]})}a(52);function U(e){return Object(o.jsxs)("div",{className:"background-wrapper",children:[Object(o.jsxs)("p",{className:"message",children:[Object(o.jsx)("span",{className:"message__empty",children:"It's empty here..."}),Object(o.jsxs)("span",{className:"message__suggestion",children:["why not ",Object(o.jsx)("span",{className:"message__explore",children:"EXPLORE"})," more?"]})]}),Object(o.jsx)(l.b,{to:"/",children:"view art of the day"})]})}function B(e){var t=Object(c.useState)("latest"),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),j=l[0],m=l[1],u=Object(c.useState)(null),d=Object(i.a)(u,2),b=d[0],h=d[1],f=[];for(var x in localStorage)if("length"!==x&&localStorage.hasOwnProperty(x)){var O=JSON.parse(localStorage.getItem(x));f.push(O)}var _=Object(c.useState)(f),p=Object(i.a)(_,2),v=p[0],g=p[1];return Object(c.useEffect)((function(){v.length>0?e.removeBgImg():e.addBgImg()}),[v,e]),Object(o.jsx)("main",{className:"fav-main",children:localStorage.length>0?Object(o.jsxs)("div",{children:[j&&Object(o.jsx)(L,{id:b,handleClick:function(){m(!1),h(null);var e=[];for(var t in localStorage)if("length"!==t&&localStorage.hasOwnProperty(t)){var a=JSON.parse(localStorage.getItem(t));e.push(a)}g(e)}}),Object(o.jsx)(A,{}),Object(o.jsx)(F,{handleChange:function(e){r(e.target.value)},filterCriteria:n}),Object(o.jsx)(M,{filterCriteria:n,handleClick:function(e){m(!0),h(e)},favList:v})]}):Object(o.jsx)(U,{})})}var P=a(2);var J=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];function r(){n(!1)}return Object(o.jsx)(l.a,{children:Object(o.jsxs)("div",{className:"body-wrapper ".concat(a?"background-image":""),children:[Object(o.jsx)(j,{}),Object(o.jsxs)(P.c,{children:[Object(o.jsx)(P.a,{path:"/my-favourites",children:Object(o.jsx)(B,{addBgImg:function(){n(!0)},removeBgImg:r})}),Object(o.jsx)(P.a,{path:"/",children:Object(o.jsx)(R,{removeBgImg:r})})]}),Object(o.jsx)(m,{})]})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(J,{})}),document.getElementById("root")),q(console.log)}},[[53,1,2]]]);
//# sourceMappingURL=main.6cd17ec5.chunk.js.map